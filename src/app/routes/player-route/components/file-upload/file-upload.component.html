

<div class="dropzone" 
dropZone
(hovered)="toggleHover($event)"
(dropped)="preUploadProcess($event)"
[class.hovering]="isHovering">

<h3>AngularFire Drop Zone</h3>
<p>Drag and Drop a File</p>
<div class="file">
   <label class="file-label">
   <input class="file-input" type="file" accept="audio/*" multiple (change)="preUploadProcess($event.target.files)">
     <span class="file-cta">
       <span class="file-icon">
         <i class="fa fa-upload"></i>
       </span>
       <span class="file-label">
         or choose a fileâ€¦
       </span>
     </span>
   </label>
 </div>
</div>

<div *ngFor="let file of upload">
  <div>
    {{file.name}}
  </div>
  <div *ngIf="file.percentage | async as pct">
    <progress class="progress is-info" 
      [value]="pct"
      max="100">        
    </progress>
    {{ pct | number }}%
  </div>
  <div *ngIf="(file.snapshot | async) as snap">
    {{ snap.bytesTransferred | fileSize }} of {{ snap.totalBytes | fileSize }} 
  <hr>
    <button (click)="task.pause()" class="button is-warning" [disabled]="!isActive(snap)">Pause</button>
    <button (click)="task.cancel()" class="button is-danger" [disabled]="!isActive(snap)">Cancel</button>
    <button (click)="task.resume()" class="button is-info"   [disabled]="!(snap?.state === 'paused')">Resume</button>
  </div>
</div>

